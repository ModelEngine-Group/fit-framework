# 代码审查报告

**任务ID**: TASK-{id}
**审查时间**: {yyyy-MM-dd HH:mm:ss}
**审查人**: {AI名称}
**审查对象**: {PR编号 / Commit哈希 / 分支名}

## 审查结果

**总体评价**: ✅ 通过 / ⚠️ 需要修改 / ❌ 拒绝

**批准建议**: 建议批准 / 建议修改后再审 / 不建议批准

## 变更概述

### 变更范围

- 修改文件数: {数量}
- 新增代码行: +{lines}
- 删除代码行: -{lines}
- 主要模块: {module-list}

### 变更目的

{简要说明这次变更的目的}

## 详细审查

### 1. 代码质量 ⭐⭐⭐⭐☆

**评分**: {1-5星}

**优点**:
- ✅ {做得好的地方}
- ✅ {做得好的地方}

**问题**:
- ⚠️ **[{严重程度}]** {问题描述}
  - **位置**: `{file-path}:{line-number}`
  - **建议**: {如何修复}

- ⚠️ **[{严重程度}]** {问题描述}
  - **位置**: `{file-path}:{line-number}`
  - **建议**: {如何修复}

### 2. 安全性检查 🔒

**安全评分**: ✅ 安全 / ⚠️ 有风险 / ❌ 存在漏洞

**发现的安全问题**:

#### 🔴 高危问题
- **[SQL注入]** {问题描述}
  - **位置**: `{file-path}:{line-number}`
  - **风险**: {风险说明}
  - **修复**: {修复建议}

#### 🟡 中危问题
- **[XSS]** {问题描述}
  - **位置**: `{file-path}:{line-number}`
  - **风险**: {风险说明}
  - **修复**: {修复建议}

#### 🟢 低危问题
- **[信息泄露]** {问题描述}
  - **位置**: `{file-path}:{line-number}`
  - **建议**: {建议}

**安全建议**:
- {建议1}
- {建议2}

### 3. 性能分析 ⚡

**性能评估**: ✅ 无影响 / ⚠️ 需要关注 / ❌ 有性能问题

**性能问题**:
- ⚠️ {性能问题描述}
  - **位置**: `{file-path}:{line-number}`
  - **影响**: {性能影响说明}
  - **优化建议**: {如何优化}

**性能建议**:
- {建议1}
- {建议2}

### 4. 测试覆盖 🧪

**测试评分**: ⭐⭐⭐⭐☆

**测试情况**:
- [x] 有单元测试
- [ ] 有集成测试
- [ ] 有性能测试
- [x] 测试覆盖关键逻辑

**测试问题**:
- ⚠️ {测试不足的地方}
- ⚠️ {需要补充的测试}

**测试建议**:
- {建议补充的测试用例}

### 5. 编码规范 📏

**规范评分**: ⭐⭐⭐⭐☆

**规范问题**:
- ℹ️ {规范问题}
  - **位置**: `{file-path}:{line-number}`
  - **建议**: {如何改进}

### 6. 可维护性 🔧

**可维护性评分**: ⭐⭐⭐⭐☆

**优点**:
- ✅ 代码结构清晰
- ✅ 命名合理
- ✅ 注释充分

**改进建议**:
- 💡 {改进建议}
- 💡 {改进建议}

## 问题汇总

### 必须修复（阻塞合并）

| 严重程度 | 类型  | 位置              | 问题描述 | 修复建议 |
|------|-----|-----------------|------|------|
| 🔴 高 | 安全  | `{file}:{line}` | {描述} | {建议} |
| 🔴 高 | Bug | `{file}:{line}` | {描述} | {建议} |

### 建议修复（不阻塞但应该改）

| 严重程度 | 类型 | 位置              | 问题描述 | 修复建议 |
|------|----|-----------------|------|------|
| 🟡 中 | 性能 | `{file}:{line}` | {描述} | {建议} |
| 🟡 中 | 测试 | `{file}:{line}` | {描述} | {建议} |

### 可选改进（锦上添花）

| 严重程度  | 类型 | 位置              | 问题描述 | 修复建议 |
|-------|----|-----------------|------|------|
| 🟢 低  | 风格 | `{file}:{line}` | {描述} | {建议} |
| ℹ️ 提示 | 优化 | `{file}:{line}` | {描述} | {建议} |

## 整体建议

### 批准条件

如要批准合并，需要：
- [ ] 修复所有高危问题
- [ ] 修复所有安全问题
- [ ] 补充必要的测试
- [ ] {其他条件}

### 下一步行动

1. **如果是"通过"**: 可以合并
2. **如果是"需要修改"**:
   - 修复"必须修复"的问题
   - 考虑"建议修复"的问题
   - 修复后重新审查
3. **如果是"拒绝"**:
   - 问题太多或太严重
   - 建议重新设计方案

## 正面反馈

{给出正面的反馈，鼓励好的做法}

- 👍 {做得好的地方}
- 👍 {值得学习的地方}

## 参考资料

- {相关文档}
- {代码规范}
- {最佳实践}

---

**审查完成时间**: {yyyy-MM-dd HH:mm:ss}
**下次审查**: {如果需要修改，说明何时重新审查}
